#!/usr/bin/env bash
set -euo pipefail

# === CONFIGURE AQUI (se quiser mudar) ===
APP_URL="https://script.google.com/a/macros/headsetbrasil.com/s/AKfycbzxmHn1tdZFqpxY3Ku-SERQSgXUzUvWYb4hK152W0u3twFLXIgNbyOZSCqwRiTllvJLAg/exec"
LOGO_URL="https://drive.google.com/uc?export=view&id=1rKFdNQjrm1zcjUf5tUHrD23AbS9PXRRN"
TITLE="RIC AI — CRION"
BADGE="Desenvolvido por Alexandre Cavalcante V3.0"
# ========================================

cat > index.html <<HTML
<!doctype html>
<html lang="pt-br">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>$TITLE</title>
<meta name="description" content="Portal RIC AI CRION — wrapper para Apps Script">
<style>
  :root{
    --ink:#0f172a; --muted:#6b7280; --line:#E7EAF3;
    --primary:#2343d5; --primary-2:#2e61ff;
  }
  *{box-sizing:border-box}
  body{margin:0;font:15px/1.55 ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:#f6f8ff}
  .wrap{max-width:1240px;margin:0 auto;padding:20px}
  .hero{position:relative;display:flex;align-items:center;gap:14px;justify-content:center;
        background:linear-gradient(135deg,var(--primary),var(--primary-2));color:#fff;
        border-radius:22px;padding:14px 18px;margin:8px 0 18px;
        box-shadow:0 24px 56px rgba(46,97,255,.15),0 2px 8px rgba(46,97,255,.18)}
  .hero .logo{height:32px;width:auto;object-fit:contain;filter:drop-shadow(0 2px 6px rgba(0,0,0,.18))}
  .hero h1{margin:0;font-size:22px;letter-spacing:.4px}
  .badge{position:absolute;right:16px;top:12px;background:#fff;color:#111;
         font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid #E5E7EB;
         opacity:.92; box-shadow:0 10px 24px rgba(0,0,0,.10),0 2px 6px rgba(0,0,0,.10)}
  .frame-wrap{background:#fff;border:1px solid var(--line);border-radius:18px;
              box-shadow:0 20px 50px rgba(124,58,237,.20),0 2px 10px rgba(124,58,237,.16)}
  iframe{width:100%;height:85vh;border:0;border-radius:18px}
  .tip{max-width:1240px;margin:10px auto 0;color:var(--muted);font-size:12px;text-align:center}
  @media (max-width:720px){
    .hero{padding:12px}
    .hero h1{font-size:18px}
    .badge{position:static;margin-left:auto}
    .frame-wrap{border-radius:12px} iframe{border-radius:12px;height:80vh}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="hero">
      <img class="logo" src="$LOGO_URL" alt="Logo">
      <h1>$TITLE</h1>
      <div class="badge">$BADGE</div>
    </div>

    <div class="frame-wrap">
      <iframe src="$APP_URL" allowfullscreen referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>

    <div class="tip">Se o logo não aparecer, confira se o arquivo do Google Drive está em
      “Qualquer pessoa com o link” (visualização).</div>
  </div>
</body>
</html>
HTML

# Desativa o Jekyll do GitHub Pages
printf "" > .nojekyll

# README curto
cat > README.md <<MD
# $TITLE (GitHub Pages)

Este repositório publica uma página estática que *embeda* o Apps Script:

- **Apps Script**: $APP_URL  
- **Logo**: $LOGO_URL

## Como publicar
1. Faça commit destes arquivos na **raiz** do repositório.
2. Vá em **Settings → Pages** e selecione:
   - Source: *Deploy from a branch*
   - Branch: \`main\` e **/(root)** (ou \`/docs\` se você mover os arquivos).
3. Abra a URL exibida em **Pages**.

> Dica: se mudar o logo ou o link do Apps Script, edite as variáveis no topo do \`make_pages.sh\` e gere novamente.
MD

echo "✔️ Arquivos criados: index.html, .nojekyll, README.md"
echo "   Faça commit e habilite o GitHub Pages em Settings → Pages."